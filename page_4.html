<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: "Montserrat", sans-serif;
        overflow-x: hidden; /* Evita desplazamiento horizontal innecesario */
      }
      .slide {
        height: 100vh;
        position: relative;
        background: linear-gradient(
          135deg,
          #0a2342 0%,
          #1a3c61 50%,
          #0f3156 100%
        );
        color: white;
        overflow-y: auto; /* Permite desplazamiento vertical si el contenido excede la altura */
      }
      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: "Montserrat", sans-serif;
        overscroll-behavior: none; /* Evita el efecto de rebote en móvil */
      }
      .content {
        position: relative;
        z-index: 2;
        padding: 20px 16px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        min-height: 100%; /* Permite expansión según contenido */
        box-sizing: border-box;
      }
      .title {
        font-size: 1.8rem;
        font-weight: 600;
        color: white;
        margin-bottom: 20px;
        position: relative;
      }
      .title::after {
        content: "";
        position: absolute;
        bottom: -10px;
        left: 0;
        width: 80px;
        height: 4px;
        background-color: #4ecdc4;
      }
      .circle-decoration {
        position: absolute;
        top: -50px;
        left: -50px;
        width: 150px;
        height: 150px;
        border-radius: 50%;
        background: radial-gradient(
          circle,
          rgba(78, 205, 196, 0.1) 0%,
          rgba(10, 35, 66, 0) 70%
        );
        z-index: 0;
      }
      .pulse {
        box-shadow: 0 0 0 rgba(78, 205, 196, 0.4);
        animation: pulse 2s infinite;
      }
      @keyframes pulse {
        0% {
          box-shadow: 0 0 0 0 rgba(78, 205, 196, 0.4);
        }
        70% {
          box-shadow: 0 0 0 10px rgba(78, 205, 196, 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(78, 205, 196, 0);
        }
      }
      .pagination-footer {
        margin-top: 20px;
        padding-top: 15px;
        border-top: 1px solid #4a5568;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        font-size: 0.8rem;
        width: 100%;
      }
      .info-footer {
        margin-top: auto;
        padding-top: 10px;
        text-align: center;
        font-size: 0.8rem;
        color: #a7a9ac;
      }

      /* Media Queries para pantallas más grandes (Mobile-First) */
      @media only screen and (min-width: 768px) {
        .content {
          padding: 50px 60px;
        }
        .title {
          font-size: 2.2rem;
          margin-bottom: 30px;
        }
        .circle-decoration {
          top: -100px;
          left: -100px;
          width: 250px;
          height: 250px;
        }
        .pagination-footer {
          flex-direction: row;
          justify-content: space-between; /* Aprovecha todo el ancho disponible */
          margin-top: 30px;
          padding-top: 20px;
          font-size: 0.875rem;
        }
        .info-footer {
          text-align: left;
          display: flex;
          justify-content: space-between;
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <div class="slide">
      <div class="circle-decoration"></div>

      <div
        class="content w-full min-h-screen flex justify-center items-start"
        style="
          background: linear-gradient(
            135deg,
            #0a2342 0%,
            #1a3c61 50%,
            #0f3156 100%
          );
        "
      >
        <div class="w-full px-4 py-8">
          <h1
            class="text-3xl md:text-4xl font-bold mb-8 text-white tracking-tight relative"
          >
            Evolución del Mercado (Abril 2024-Abril 2025)
            <span class="block w-32 h-1 bg-teal-400 mt-2 rounded"></span>
          </h1>
          <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
            <!-- Gráfica de precios -->
            <div
              class="lg:col-span-7 bg-white bg-opacity-5 rounded-xl shadow-xl p-6 flex flex-col justify-between"
            >
              <h3
                class="text-lg font-semibold mb-4 flex items-center text-white"
              >
                <i class="fas fa-chart-line text-teal-400 mr-2"></i>
                Evolución de Precios por m² (€)
              </h3>
              <div class="h-64 md:h-72">
                <canvas id="priceChart"></canvas>
              </div>
              <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6">
                <div
                  class="bg-white bg-opacity-7 rounded-lg p-4 flex flex-col items-center shadow-md hover:scale-105 transition-transform duration-300"
                  style="background-color: rgba(255, 255, 255, 0.07)"
                >
                  <span class="text-xs text-gray-300 mb-1"
                    >Incremento Venta</span
                  >
                  <span class="text-2xl font-bold text-teal-400">+19.1%</span>
                  <span class="text-xs text-gray-400 mt-1">2167€ → 2580€</span>
                </div>
                <div
                  class="bg-white bg-opacity-7 rounded-lg p-4 flex flex-col items-center shadow-md hover:scale-105 transition-transform duration-300"
                  style="background-color: rgba(255, 255, 255, 0.07)"
                >
                  <span class="text-xs text-gray-300 mb-1"
                    >Incremento Alquiler</span
                  >
                  <span class="text-2xl font-bold text-red-400">+18.3%</span>
                  <span class="text-xs text-gray-400 mt-1">12.1€ → 14.2€</span>
                </div>
                <div
                  class="bg-white bg-opacity-7 rounded-lg p-4 flex flex-col items-center shadow-md hover:scale-105 transition-transform duration-300 pulse"
                  style="background-color: rgba(255, 255, 255, 0.07)"
                >
                  <span class="text-xs text-gray-300 mb-1"
                    >Tiempo Medio Venta</span
                  >
                  <span class="text-2xl font-bold text-yellow-400"
                    >48 días</span
                  >
                  <span class="text-xs text-gray-400 mt-1"
                    >-15 días vs 2023</span
                  >
                </div>
              </div>
            </div>
            <!-- Gráfica de transacciones -->
            <div class="lg:col-span-5 flex flex-col gap-6">
              <div class="bg-white bg-opacity-5 rounded-xl shadow-xl p-6">
                <h3
                  class="text-lg font-semibold mb-4 flex items-center text-white"
                >
                  <i class="fas fa-exchange-alt text-teal-400 mr-2"></i>
                  Volumen de Transacciones
                </h3>
                <div class="h-40 md:h-48">
                  <canvas id="transactionsChart"></canvas>
                </div>
                <div class="grid grid-cols-2 gap-4 mt-4">
                  <div
                    class="bg-white bg-opacity-7 rounded-lg p-4 flex flex-col items-center shadow-md hover:scale-105 transition-transform duration-300"
                    style="background-color: rgba(255, 255, 255, 0.07)"
                  >
                    <span class="text-xs text-gray-300 mb-1"
                      >Total transacciones</span
                    >
                    <span class="text-xl font-bold text-teal-400">5,340</span>
                    <span class="text-xs text-teal-400 mt-1"
                      >+8.2% vs 2023</span
                    >
                  </div>
                  <div
                    class="bg-white bg-opacity-7 rounded-lg p-4 flex flex-col items-center shadow-md hover:scale-105 transition-transform duration-300"
                    style="background-color: rgba(255, 255, 255, 0.07)"
                  >
                    <span class="text-xs text-gray-300 mb-1"
                      >Compras extranjeros</span
                    >
                    <span class="text-xl font-bold text-teal-400">25.1%</span>
                    <span class="text-xs text-teal-400 mt-1"
                      >+3.2% vs 2023</span
                    >
                  </div>
                </div>
              </div>
              <!-- Factores -->
              <div class="bg-white bg-opacity-5 rounded-xl shadow-xl p-6">
                <h3
                  class="text-lg font-semibold mb-4 flex items-center text-white"
                >
                  <i class="fas fa-cogs text-teal-400 mr-2"></i>
                  Factores que han influido en el mercado
                </h3>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                  <div
                    class="bg-white bg-opacity-7 rounded-lg p-4 flex flex-col items-center shadow-md hover:scale-105 transition-transform duration-300"
                    style="background-color: rgba(255, 255, 255, 0.07)"
                  >
                    <i class="fas fa-globe text-teal-400 text-2xl mb-2"></i>
                    <span class="font-medium text-white"
                      >Inversión extranjera</span
                    >
                    <span class="text-teal-400 font-bold">25.1%</span>
                    <span class="text-xs text-gray-300 text-center mt-1"
                      >Compradores europeos atraídos por clima y ventajas
                      fiscales</span
                    >
                  </div>
                  <div
                    class="bg-white bg-opacity-7 rounded-lg p-4 flex flex-col items-center shadow-md hover:scale-105 transition-transform duration-300"
                    style="background-color: rgba(255, 255, 255, 0.07)"
                  >
                    <i class="fas fa-home text-yellow-400 text-2xl mb-2"></i>
                    <span class="font-medium text-white"
                      >Escasez de oferta</span
                    >
                    <span class="text-yellow-400 font-bold">0.7%</span>
                    <span class="text-xs text-gray-300 text-center mt-1"
                      >Tasa disponibilidad para alquiler residencial</span
                    >
                  </div>
                  <div
                    class="bg-white bg-opacity-7 rounded-lg p-4 flex flex-col items-center shadow-md hover:scale-105 transition-transform duration-300"
                    style="background-color: rgba(255, 255, 255, 0.07)"
                  >
                    <i
                      class="fas fa-laptop-house text-teal-400 text-2xl mb-2"
                    ></i>
                    <span class="font-medium text-white"
                      >Nómadas digitales</span
                    >
                    <span class="text-teal-400 font-bold">+45%</span>
                    <span class="text-xs text-gray-300 text-center mt-1"
                      >Incremento en teletrabajadores eligiendo Las Palmas</span
                    >
                  </div>
                </div>
              </div>
            </div>
            <!-- Nuevas construcciones -->
            <div
              class="lg:col-span-12 bg-white bg-opacity-5 rounded-xl shadow-xl p-6 mt-6"
            >
              <h3
                class="text-lg font-semibold mb-4 flex items-center text-white"
              >
                <i class="fas fa-building text-teal-400 mr-2"></i>
                Nuevas Construcciones
              </h3>
              <div class="flex flex-wrap gap-4 justify-between">
                <div
                  class="bg-white bg-opacity-7 rounded-lg p-4 flex flex-col items-center shadow-md min-w-[140px] hover:scale-105 transition-transform duration-300"
                  style="background-color: rgba(255, 255, 255, 0.07)"
                >
                  <span class="text-2xl font-bold text-teal-400">336</span>
                  <span class="text-xs text-gray-300 text-center"
                    >Viviendas públicas en construcción</span
                  >
                </div>
                <div class="flex flex-wrap gap-4">
                  <div
                    class="bg-white bg-opacity-5 rounded-lg p-3 flex flex-col items-center min-w-[120px] hover:scale-105 transition-transform duration-300"
                    style="background-color: rgba(255, 255, 255, 0.05)"
                  >
                    <span class="text-xl font-bold text-teal-400">148</span>
                    <span class="text-xs text-gray-300 text-center"
                      >Unidades en Las Rehoyas</span
                    >
                  </div>
                  <div
                    class="bg-white bg-opacity-5 rounded-lg p-3 flex flex-col items-center min-w-[120px] hover:scale-105 transition-transform duration-300"
                    style="background-color: rgba(255, 255, 255, 0.05)"
                  >
                    <span class="text-xl font-bold text-teal-400">76</span>
                    <span class="text-xs text-gray-300 text-center"
                      >Viviendas ARRU Tamaraceite</span
                    >
                  </div>
                  <div
                    class="bg-white bg-opacity-5 rounded-lg p-3 flex flex-col items-center min-w-[120px] hover:scale-105 transition-transform duration-300"
                    style="background-color: rgba(255, 255, 255, 0.05)"
                  >
                    <span class="text-xl font-bold text-teal-400">68</span>
                    <span class="text-xs text-gray-300 text-center"
                      >Nuevas en Tamaraceite Sur</span
                    >
                  </div>
                  <div
                    class="bg-white bg-opacity-5 rounded-lg p-3 flex flex-col items-center min-w-[120px] hover:scale-105 transition-transform duration-300"
                    style="background-color: rgba(255, 255, 255, 0.05)"
                  >
                    <span class="text-xl font-bold text-teal-400">44</span>
                    <span class="text-xs text-gray-300 text-center"
                      >Otras promociones</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Footer y Paginación -->
          <!-- mt-auto empuja esto hacia abajo dentro del contenedor flex principal -->
          <footer class="mt-auto pt-4 flex-shrink-0">
            <div
              class="text-xs text-gray-400 flex flex-col sm:flex-row items-center justify-between gap-2 mb-2"
            >
              <div>
                <i class="fas fa-info-circle mr-1"></i> Fuentes: Idealista,
                ISTAC, Consejo General del Notariado, Ayuntamiento de Las Palmas
                de GC
              </div>
              <div>Análisis Sector Inmobiliario LPGC | 5</div>
            </div>
            <!-- Paginación -->
            <nav aria-label="Paginación">
              <div
                class="pt-2 border-t border-gray-600 flex flex-col sm:flex-row justify-between items-stretch sm:items-center text-sm gap-3"
              >
                <a
                  href="page_3.html"
                  class="text-center px-4 py-2 rounded bg-teal-600 hover:bg-teal-500 text-white transition duration-200 ease-in-out transform hover:-translate-y-px shadow-md"
                >
                  <i class="fas fa-chevron-left mr-2" aria-hidden="true"></i>
                  Anterior
                </a>
                <span
                  class="text-gray-300 font-medium text-center order-first sm:order-none"
                  aria-current="page"
                  >Página 5 de 9</span
                >
                <a
                  href="page_5.html"
                  class="text-center px-4 py-2 rounded bg-teal-600 hover:bg-teal-500 text-white transition duration-200 ease-in-out transform hover:-translate-y-px shadow-md"
                >
                  Siguiente
                  <i class="fas fa-chevron-right ml-2" aria-hidden="true"></i>
                </a>
              </div>
            </nav>
          </footer>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Price evolution chart
        const priceCtx = document.getElementById("priceChart").getContext("2d");

        // Create gradient for sale prices
        const saleGradient = priceCtx.createLinearGradient(0, 0, 0, 400);
        saleGradient.addColorStop(0, "rgba(78, 205, 196, 0.4)");
        saleGradient.addColorStop(1, "rgba(78, 205, 196, 0.0)");

        // Create gradient for rent prices
        const rentGradient = priceCtx.createLinearGradient(0, 0, 0, 400);
        rentGradient.addColorStop(0, "rgba(255, 107, 107, 0.4)");
        rentGradient.addColorStop(1, "rgba(255, 107, 107, 0.0)");

        const priceChart = new Chart(priceCtx, {
          type: "line",
          data: {
            labels: [
              "Abr 24",
              "May 24",
              "Jun 24",
              "Jul 24",
              "Ago 24",
              "Sep 24",
              "Oct 24",
              "Nov 24",
              "Dic 24",
              "Ene 25",
              "Feb 25",
              "Mar 25",
              "Abr 25",
            ],
            datasets: [
              {
                label: "Venta (€/m²)",
                data: [
                  2167, 2205, 2240, 2290, 2340, 2372, 2405, 2430, 2482, 2510,
                  2530, 2565, 2580,
                ],
                borderColor: "#4ECDC4",
                backgroundColor: saleGradient,
                borderWidth: 3,
                tension: 0.4,
                fill: true,
                pointRadius: 4,
                pointHoverRadius: 7,
                pointBackgroundColor: "#4ECDC4",
                pointHoverBackgroundColor: "white",
                pointBorderColor: "rgba(255, 255, 255, 0.8)",
                pointBorderWidth: 2,
                yAxisID: "y",
              },
              {
                label: "Alquiler (€/m²/mes)",
                data: [
                  12.1, 12.3, 12.6, 12.8, 13.0, 13.2, 13.5, 13.7, 13.9, 14.0,
                  14.1, 14.2, 14.2,
                ],
                borderColor: "#FF6B6B",
                backgroundColor: rentGradient,
                borderWidth: 3,
                tension: 0.4,
                fill: true,
                pointRadius: 4,
                pointHoverRadius: 7,
                pointBackgroundColor: "#FF6B6B",
                pointHoverBackgroundColor: "white",
                pointBorderColor: "rgba(255, 255, 255, 0.8)",
                pointBorderWidth: 2,
                yAxisID: "y1",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
              mode: "index",
              intersect: false,
            },
            plugins: {
              legend: {
                position: "top",
                labels: {
                  padding: 15,
                  color: "#ffffff",
                  font: {
                    family: "Montserrat",
                    size: 11,
                  },
                  usePointStyle: true,
                  pointStyle: "circle",
                },
              },
              tooltip: {
                backgroundColor: "rgba(10, 35, 66, 0.8)",
                titleFont: {
                  family: "Montserrat",
                  size: 12,
                },
                bodyFont: {
                  family: "Montserrat",
                  size: 12,
                },
                padding: 10,
                cornerRadius: 6,
                displayColors: true,
                callbacks: {
                  label: function (context) {
                    let label = context.dataset.label || "";
                    if (label) {
                      label += ": ";
                    }
                    if (context.parsed.y !== null) {
                      label += context.parsed.y.toLocaleString("es-ES", {
                        minimumFractionDigits: 1,
                        maximumFractionDigits: 1,
                      });
                      if (context.dataset.label.includes("Venta")) {
                        label += " €/m²";
                      } else {
                        label += " €/m²/mes";
                      }
                    }
                    return label;
                  },
                },
              },
            },
            scales: {
              y: {
                type: "linear",
                position: "left",
                title: {
                  display: true,
                  text: "Precio Venta (€/m²)",
                  color: "#ffffff",
                  font: {
                    family: "Montserrat",
                    size: 12,
                  },
                },
                grid: {
                  color: "rgba(255, 255, 255, 0.1)",
                },
                ticks: {
                  color: "#A7A9AC",
                  font: {
                    family: "Montserrat",
                    size: 10,
                  },
                  callback: function (value) {
                    return value.toLocaleString("es-ES") + " €";
                  },
                },
              },
              y1: {
                type: "linear",
                position: "right",
                title: {
                  display: true,
                  text: "Precio Alquiler (€/m²/mes)",
                  color: "#ffffff",
                  font: {
                    family: "Montserrat",
                    size: 12,
                  },
                },
                grid: {
                  drawOnChartArea: false,
                  color: "rgba(255, 255, 255, 0.1)",
                },
                ticks: {
                  color: "#A7A9AC",
                  font: {
                    family: "Montserrat",
                    size: 10,
                  },
                  callback: function (value) {
                    return (
                      value.toLocaleString("es-ES", {
                        minimumFractionDigits: 1,
                        maximumFractionDigits: 1,
                      }) + " €"
                    );
                  },
                },
              },
              x: {
                grid: {
                  color: "rgba(255, 255, 255, 0.1)",
                },
                ticks: {
                  color: "#A7A9AC",
                  font: {
                    family: "Montserrat",
                    size: 10,
                  },
                },
              },
            },
            animation: {
              duration: 2000,
              easing: "easeOutQuart",
            },
          },
        });

        // Transactions chart
        const transactionsCtx = document
          .getElementById("transactionsChart")
          .getContext("2d");

        // Create gradient for transactions
        const transactionsGradient = transactionsCtx.createLinearGradient(
          0,
          0,
          0,
          400
        );
        transactionsGradient.addColorStop(0, "rgba(78, 205, 196, 0.4)");
        transactionsGradient.addColorStop(1, "rgba(78, 205, 196, 0.0)");

        const transactionsChart = new Chart(transactionsCtx, {
          type: "bar",
          data: {
            labels: [
              "Abr 24",
              "May 24",
              "Jun 24",
              "Jul 24",
              "Ago 24",
              "Sep 24",
              "Oct 24",
              "Nov 24",
              "Dic 24",
              "Ene 25",
              "Feb 25",
              "Mar 25",
              "Abr 25",
            ],
            datasets: [
              {
                label: "Transacciones mensuales",
                data: [
                  380, 410, 450, 390, 370, 420, 430, 440, 460, 400, 410, 430,
                  340,
                ],
                backgroundColor: transactionsGradient,
                borderColor: "#4ECDC4",
                borderWidth: 1,
                hoverBackgroundColor: "rgba(78, 205, 196, 0.6)",
                hoverBorderColor: "#4ECDC4",
                hoverBorderWidth: 2,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: "top",
                labels: {
                  padding: 15,
                  color: "#ffffff",
                  font: {
                    family: "Montserrat",
                    size: 11,
                  },
                },
              },
              tooltip: {
                backgroundColor: "rgba(10, 35, 66, 0.8)",
                titleFont: {
                  family: "Montserrat",
                  size: 12,
                },
                bodyFont: {
                  family: "Montserrat",
                  size: 12,
                },
                padding: 10,
                cornerRadius: 6,
                displayColors: true,
                callbacks: {
                  label: function (context) {
                    let label = context.dataset.label || "";
                    if (label) {
                      label += ": ";
                    }
                    if (context.parsed.y !== null) {
                      label += context.parsed.y.toLocaleString("es-ES");
                    }
                    return label;
                  },
                },
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  color: "rgba(255, 255, 255, 0.1)",
                },
                ticks: {
                  color: "#A7A9AC",
                  font: {
                    family: "Montserrat",
                    size: 10,
                  },
                },
                title: {
                  display: true,
                  text: "Número de transacciones",
                  color: "#ffffff",
                  font: {
                    family: "Montserrat",
                    size: 12,
                  },
                },
              },
              x: {
                grid: {
                  color: "rgba(255, 255, 255, 0.1)",
                },
                ticks: {
                  color: "#A7A9AC",
                  font: {
                    family: "Montserrat",
                    size: 10,
                  },
                },
              },
            },
            animation: {
              duration: 2000,
              easing: "easeOutQuart",
            },
          },
        });
      });
    </script>
  </body>
</html>
